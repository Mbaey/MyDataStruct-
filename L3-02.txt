#include <iostream>
#include <cstdio>
#include <vector>
#include <set>
#include <algorithm>

using namespace std;
const int N=22;
int map[N][N]={0}, vis[N]={0};
int n, cnt=0, f=0;
void oular(int i, vector<int> &res){

    if(res.size() == n && map[i][1] == 1){

        for(int i=0; i<n; i++)
            cout << res[i] << " ";
        f=1;
        return;
    }
    for(int j=1; j<=n; j++){
        if(!vis[j] && map[i][j]==1){
            vis[j]=1;

            res.push_back(j);
            oular(j, res);
            res.erase(res.end()-1);
            if(f==1){
                break;
            }
            vis[j]=0;

        }
    }
}
int main()
{
    freopen("1.txt", "r", stdin);
    cin >> n;
    char c;
    for(int i=1; i<=n; i++){
        for(int j=1; j<=n; j++){
            cin >> c;
            if(c == 'W'){
                map[i][j] = 1;
            }else if(c=='L')
                map[i][j] = -1;
        }
    }
    vis[1]=1;
    vector<int> res;
    res.push_back(1);
    oular(1, res);

    if(!f)
        cout << "No Solution";
    return 0;
}

/*

5
-LWDW
W-LDW
WW-LW
DWW-W
DDLW-
*/